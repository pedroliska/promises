<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
  <script>

    $(document).ready(function () {

      function clickPromise(linkId) {
        var promise = new Promise(function(resolve, reject) {
          $('#' + linkId).click(function() {
            resolve();
          });
        });
        return promise;
      }

      function delayPromise(seconds) {
        var promise = new Promise(function (resolve, reject) {
          setTimeout(resolve, seconds * 1000);
        });
        return promise;
      }

      clickPromise('button1').then(function() {
        $('#image1').css('display', 'inline');
        return delayPromise(2);
      }).then(function() {
        $('#image1').attr('src', 'happy.png');
      });

    });
  </script>
  <title></title>
</head>
<body>
  <button id="button1">load image</button> <br/>
  <img id="image1" style="display: none" src="spinner.gif" alt="spinner"/>
</body>
</html>
