<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <script src="resources/jquery.js"></script>
  <script>
      $(document).ready(() => {

          function clickPromise(elementId) {
              let promise = new Promise(resolveFn => {
                  $(elementId).click(resolveFn);
              });
              return promise;
          }

          function delayPromise(seconds) {
              let promise = new Promise(resolveFn => {
                  setTimeout(resolveFn, seconds * 1000);
              });
              return promise;
          }

          function displaySpinner() {
              $('#image1').css('display', 'inline').attr('src', 'resources/spinner.gif');
              return delayPromise(2);
          }

          function displaySmile() {
              $('#image1').css('display', 'inline').attr('src', 'resources/happy.png');
          }

          clickPromise('#button1')
              .then(displaySpinner)
              .then(displaySmile);

      });
  </script>
</head>
<body>

  <button id="button1">Show image</button><br />
  <img id="image1" src="" style="display: none" />

</body>
</html>